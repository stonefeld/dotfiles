#!/bin/sh

COLORED_EMOJIS=$1

vol=$(amixer sget Master | sed "6!d;s/%//;s/\[//g;s/\]//g;s/\ \+/ /g")
volume=$(echo $vol | cut -d " " -f 5)

if [ "$COLORED_EMOJIS" = true ]; then
    [ `echo "$volume >= 50" | bc` -eq 1 ] && icon="ðŸ”Š" || icon="ðŸ”‰"
    [ `echo "$volume == 0" | bc` -eq 1 ] && icon="ðŸ”ˆ"
else
    [ `echo "$volume >= 50" | bc` -eq 1 ] && icon="ï€¨" || icon="ï€§"
    [ `echo "$volume == 0" | bc` -eq 1 ] && icon="ï€¦"
fi

volume=$(echo "$volume%")

mute=$(echo $vol | cut -d " " -f 6)
[ $mute = "off" ] && ([ ! "$COLORED_EMOJIS" = true ] && (volume="Mute" ; icon="ï€¦") || (volume="Mute" ; icon="ðŸ”‡"))

echo "$icon $volume"
