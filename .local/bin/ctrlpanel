#!/bin/sh

([ $(pgrep -x pulseaudio) ] || [ $(pgrep -x pipewire | sed '1q') ]) && PULSE=true || PULSE=false

case $1 in
	vu)  # Volume up.
	     [ "$PULSE" = true ] && pactl set-sink-volume @DEFAULT_SINK@ +$2% || amixer sset Master $2%+
	     pkill -RTMIN+4 dwmblocks;;

	vd)  # Volume down.
	     [ "$PULSE" = true ] && pactl set-sink-volume @DEFAULT_SINK@ -$2% || amixer sset Master $2%-
	     pkill -RTMIN+4 dwmblocks;;

	vm)  # Volume mute.
	     [ "$PULSE" = true ] && amixer -D pulse sset Master toggle || amixer sset Master toggle
	     pkill -RTMIN+4 dwmblocks;;

	mm)  # Microphone mute.
	     [ "$PULSE" = true ] && amixer -D pulse sset Capture toggle || amixer sset Capture toggle;;

	bu)  # Brightness up.
	     xbacklight -inc $2
	     pkill -RTMIN+3 dwmblocks;;

	bd)  # Brightness down.
	     xbacklight -dec $2
	     pkill -RTMIN+3 dwmblocks;;

	nm)  # Network manager.
	     rfkill unblock all
	     [ $(pgrep -x nm-applet) ] && killall nm-applet || nm-applet &;;

	run) # Run applications.
	     cd $HOME
	     dmenu_run;;
esac
