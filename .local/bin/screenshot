#!/bin/sh

filename="screenshot-$(date '+%Y_%m_%d-%H_%M_%S').png"
filelocation="$HOME/imgs/screenshots/"

[ -d "$filelocation" ] && mkdir -p "$destination"

if [ "$#" -eq 1 ]; then
	if [ "$1" = "-s" ]; then
		scrot -s -f "$filelocation/$filename" &>/dev/null
	else
		scrot -d $1 "$filelocation/$filename" &>/dev/null
	fi
else
	scrot "$filelocation/$filename" &>/dev/null
fi

[ "$?" -ne 0 ] && exit

canberra-gtk-play -i device-added; \
	xclip -se c -t image/png -i "$filelocation/$filename"; \
	notify-send -i "$filelocation/$filename" "Copied to clipboard" "Screenshot $filename copied to clipboard"
