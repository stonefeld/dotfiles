set smtp_authenticators = "login"
set ssl_force_tls = yes

folder-hook 'gmail' 'source ~/.config/mutt/gmail'
folder-hook 'live' 'source ~/.config/mutt/live'
folder-hook 'uni' 'source ~/.config/mutt/uni'

macro index 1 "<change-folder> ~/.local/share/mail/gmail/Inbox<enter>" "change to gmail folder"
macro index 2 "<change-folder> ~/.local/share/mail/live/Inbox<enter>" "change to live folder"
macro index 3 "<change-folder> ~/.local/share/mail/uni/Inbox<enter>" "change to uni folder"
macro index,pager <F5> "!mailcheck^M" "update through mbsync"
macro index,pager A "<pipe-message>abook --config \"$XDG_CONFIG_HOME\"/abook/abookrc --datafile \"$XDG_DATA_HOME\"/abook/addressbook --add-email<return>" "add the sender address to book"

set move = no
set edit_headers = yes

# Sidebar setup.
set sidebar_visible = no
set sidebar_width = 20
set sidebar_short_path = yes
set sidebar_next_new_wrap = yes
set mail_check_stats
set sidebar_format = '%D%?F? [%F]?%* %?N?%N/?%?S?%S?'

unset markers

set mailcap_path = "~/.config/mutt/mailcap"
alternative_order text/html text/plain
set implicit_autoview
set query_command='abook --config "$XDG_CONFIG_HOME"/abook/abookrc --datafile "$XDG_DATA_HOME"/abook/addressbook --mutt-query "%s"'

source ~/.config/mutt/colors
source ~/.config/mutt/keys
source ~/.config/mutt/gmail

# Example of account config
# set folder = "~/.local/share/mail/mymail"
# mailboxes +Inbox +Sent +Drafts +Spam +Trash
# set from = "myname@mail.com"
# set realname = "Myreal Name"
# set sendmail = "/usr/bin/msmtp -a mymail"
# source ~/.config/mutt/common
